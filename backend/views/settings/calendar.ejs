<main class="settings-calendar">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1 class="mb-1">Calendar Options</h1>
      <p class="text-muted mb-0">Control time increments for the day view on the shared calendar.</p>
    </div>
    <a href="/calendar" class="btn btn-outline-secondary btn-sm" target="_blank" rel="noopener">
      Open Calendar
    </a>
  </div>

  <form action="/settings/calendar" method="POST" class="card shadow-sm p-4" style="max-width: 540px;">
    <div class="mb-3">
      <label for="daySlotMinutes" class="form-label fw-semibold">Day view slot interval</label>
      <select id="daySlotMinutes" name="day_slot_minutes" class="form-select form-select-lg">
        <% (slotOptions || [15,30,60]).forEach(function(option) { %>
          <option value="<%= option %>" <%= Number(daySlotMinutes) === Number(option) ? 'selected' : '' %>>
            <%= option %> minute<%= option === 1 ? '' : 's' %>
          </option>
        <% }) %>
      </select>
      <small class="text-muted">Applies to the calendar's Day view. Month &amp; Week views continue to auto-fit.</small>
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary">
        Save changes
      </button>
      <a href="/settings/overview" class="btn btn-outline-secondary">Cancel</a>
    </div>
  </form>

  <section class="card shadow-sm mt-4">
    <div class="card-body">
      <h5 class="mb-2">Embed the public calendars on your website</h5>
      <p class="text-muted small mb-3">Use these URLs in an &lt;iframe&gt; to render without the platform header/navigation. Prefix with your domain, e.g. https://yourdomain.com.</p>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Restaurant booking form (embed)</label>
          <input type="text" class="form-control form-control-sm" readonly value="/calendar/restaurant/book?embed=1">
        </div>
        <div class="col-md-6">
          <label class="form-label">Restaurant calendar (embed)</label>
          <input type="text" class="form-control form-control-sm" readonly value="/calendar/restaurant?embed=1">
        </div>
        <div class="col-md-6">
          <label class="form-label">Entertainment calendar (embed)</label>
          <input type="text" class="form-control form-control-sm" readonly value="/entertainment?embed=1">
          <div class="mt-2 small text-muted d-flex flex-column gap-1">
            <span>Month: <span class="text-dark">/entertainment?embed=1&amp;view=month</span></span>
            <span>Week: <span class="text-dark">/entertainment?embed=1&amp;view=week</span></span>
            <span>Agenda: <span class="text-dark">/entertainment?embed=1&amp;view=agenda</span></span>
            <span>Pinboard: <span class="text-dark">/entertainment?embed=1&amp;view=pinboard</span></span>
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Entertainment list (embed)</label>
          <input type="text" class="form-control form-control-sm" readonly value="/entertainment?embed=1&view=list">
        </div>
      </div>
    </div>
  </section>
</main>
