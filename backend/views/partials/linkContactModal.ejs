<!-- views/partials/linkContactModal.ejs -->
<div class="modal fade" id="linkContactModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-4">
      <h4>ðŸ“‡ Link Message to Contact</h4>

      <form action="/inbox/link/<%= message.id %>" method="POST">
        <div class="form-group mb-3">
          <label for="contact_id">Contact</label>
          <select name="contact_id" id="contact_id" class="form-control">
            <option value="">(none)</option>
            <% contacts.forEach(c => { %>
              <option value="<%= c.id %>" <%= String(message.related_contact) === String(c.id) ? 'selected' : '' %>>
                <%= c.name %>
              </option>
            <% }) %>
          </select>
        </div>

        <div class="modal-footer d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">ðŸ’¾ Save Contact</button>
        </div>
      </form>
    </div>
  </div>
</div>

